---
title: JS 迭代器与生成器
author: 王哲峰
date: '2020-03-01'
slug: js-iterator-generator
categories: [js]
tags: [js]
---

# 七.迭代器与生成器

- 循环是迭代机制的基础，这是因为它可以指定迭代的次数，以及每次迭代要执行什么操作。每次循环都会在下一次迭代开始之前完成，而每次迭代的顺序都是事先定义好的。

- 迭代会在一个有序集合上进行，数组是 JavaScript 中有序集合的最典型例子
	- 因为数组有已知的长度，且数组每一项都可以通过索引获取，所以整个数组可以通过递增索引来遍历
- 由于如下原因，通过这种循环来执行例程并不理想：
	- 迭代之前需要事先知道如何使用数据结构
		- 数组中的每一项都只能先通过引用取得数组对象，然后再通过 `[]` 操作符取得特定索引位置上的项。这种情况并不适用于所有数据结构
	- 遍历顺序并不是数据结构固有的
		- 通过递增索引来访问数据是特定与数组类型的方式，并不适用于其他具有隐式顺序的数据结构
- ES5 新增了 `Array.prototype.forEach()` 方法，向通用迭代需求迈进了一步(但仍然不够理想)
	- 这个方法解决了单独记录索引和通过数组对象取得值的问题，不过，没有办法表示迭代何时终止。因为这个方法只适用于数组，而且回调结构也比较笨拙

```js
let collection = ["foo", "bar", "baz"];
collection.forEach(item) => console.log(item);
// foo
// bar
// baz
```

## 1.迭代器

### 1.1 可迭代协议

### 1.2 迭代器协议

### 1.3 自定义迭代器

### 1.4 提前终止迭代器

## 2.生成器

### 2.1 生成器基础

### 2.2 通过 yield 中断执行

### 2.3 生成器作为默认迭代器

### 2.4 提前终止生成器

